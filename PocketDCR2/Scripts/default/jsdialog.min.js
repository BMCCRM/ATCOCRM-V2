"use strict";var JSDialog={instances:[],create:function(p){JSDialog.Config.loadSkin();var k={elDlg:null,elContent:null,elBg:null,autoCenter:(typeof p.autoCenter!=="undefined")?p.autoCenter:true,onShow:p.onShow||null,onFirstShow:p.onFirstShow||null,onHide:p.onHide||null,onCancel:p.onCancel||null,onOk:p.onOk||null,isFirstShow:true,buttons:[],visible:false,destroy:function(){if(this.elBg!=null){this.elBg.parentNode.removeChild(this.elBg);}this.elDlg.parentNode.removeChild(this.elDlg);var r=JSDialog.instances.indexOf(this);if(r>-1){JSDialog.instances.slice(r,1);}},show:function(){var i=JSDialog.Utils.getNextZIndex();if(this.elBg!=null){JSDialog.Utils.setStyle(this.elBg,"z-index",i);i++;}this.setZIndex(i);this.visible=true;if(this.elBg!=null){JSDialog.Utils.addClass(this.elBg,"jsdialog_show");}JSDialog.Utils.addClass(this.elDlg,"jsdialog_show");if(this.autoCenter){this.center();}if(this.isFirstShow){this.isFirstShow=false;if(this.onFirstShow!=null){this.onFirstShow(this);}}if(this.onShow!=null){this.onShow(this);}},hide:function(){this.visible=false;if(this.elBg!=null){JSDialog.Utils.removeClass(this.elBg,"jsdialog_show");}JSDialog.Utils.removeClass(this.elDlg,"jsdialog_show");if(this.onHide!=null){this.onHide(this);}},center:function(){var t=Math.min(document.documentElement.clientWidth,window.innerWidth||2000);var i=Math.min(document.documentElement.clientHeight,window.innerHeight||2000);var s=t/2-this.getWidthWithBorders()/2;var r=i/2-this.getHeightWithBorders()/2;this.setPosition(s,r);},setTitle:function(r){var i=this.elDlg.getElementsByClassName("jsdialog_title_text")[0];i.textContent=r;},setSize:function(r,i){this.setWidth(r);this.setHeight(i);},setWidth:function(i){JSDialog.Utils.setStyle(this.elContent,"width",i+"px");JSDialog.Utils.setStyle(this.elDlg,"width",this.getWidthWithBorders()+"px");if(this.autoCenter){this.center();}},setHeight:function(i){JSDialog.Utils.setStyle(this.elContent,"height",i+"px");JSDialog.Utils.setStyle(this.elDlg,"height",this.getHeightWithBorders()+"px");if(this.autoCenter){this.center();}},getWidth:function(){return JSDialog.Utils.getStyle(this.elContent,"width");},getHeight:function(){return JSDialog.Utils.getStyle(this.elContent,"height");},getLeft:function(){return JSDialog.Utils.getStyle(this.elContent,"left")-JSDialog.Config.contentBorders[3];},getTop:function(){return JSDialog.Utils.getStyle(this.elContent,"top")-JSDialog.Config.contentBorders[0];},setPosition:function(r,i){this.setLeft(r);this.setTop(i);},setLeft:function(i){JSDialog.Utils.setStyle(this.elDlg,"left",i+"px");},setTop:function(i){JSDialog.Utils.setStyle(this.elDlg,"top",i+"px");},getWidthWithBorders:function(){return this.getWidth()+this.getHorizontalBorders();},getHeightWithBorders:function(){return this.getHeight()+this.getVerticalBorders();},getHorizontalBorders:function(){return JSDialog.Config.contentBorders[1]+JSDialog.Config.contentBorders[3];},getVerticalBorders:function(){return JSDialog.Config.contentBorders[0]+JSDialog.Config.contentBorders[2]+(this.hasButtons()?JSDialog.Config.contentBorders[4]:0);},hasButtons:function(){return JSDialog.Utils.hasClass(this.elDlg.getElementsByClassName("jsdialog_buttons")[0],"jsdialog_show");},getButton:function(r){for(var s=0;s<this.buttons.length;s++){if(this.buttons[s].name==r){return this.buttons[s];}}return null;},getOkButton:function(){return this.getButton("ok");},getCancelButton:function(){return this.getButton("cancel");},getCloseButton:function(){return this.getButton("close");},getZIndex:function(){return JSDialog.Utils.getStyle(this.elDlg,"z-index");},setZIndex:function(i){JSDialog.Utils.setStyle(this.elDlg,"z-index",i);}};var m=p.title||"";var a=p.width||400;var q=p.height||300;var c=p.contents||"";var l=p.buttons||[];if(l==null){l=[];}var n=(typeof p.hasCloseBtn==="undefined")?true:p.hasCloseBtn;var f=document.getElementsByTagName("body")[0];if(JSDialog.Config.useBg){k.elBg=JSDialog.Utils.createElementFromHtml(JSDialog.Config.templateBg);f.appendChild(k.elBg);}k.elDlg=JSDialog.Utils.createElementFromHtml(JSDialog.Config.templateDialog);f.appendChild(k.elDlg);k.elContent=k.elDlg.getElementsByClassName("jsdialog_content")[0];k.elContent.innerHTML=c;var j=k.elDlg.getElementsByClassName("jsdialog_x")[0];var h={name:"close",elButton:j,setEnabled:function(i){if(i){JSDialog.Utils.removeClass(this.elButton,"jsdialog_disabled");}else{JSDialog.Utils.addClass(this.elButton,"jsdialog_disabled");}}};k.buttons.push(h);if(n){JSDialog.Utils.addClass(j,"jsdialog_show");j.onclick=(function(){var r=k;var i=r.onCancel||p.func||(function(){return true;});return function(){var s=i(r);if(s){r.hide();}};})();}if(l.length>0){var g=k.elDlg.getElementsByClassName("jsdialog_buttons")[0];for(var d=l.length-1;d>=0;d--){var o=l[d];o["dlg"]=k;o["elButtonsPanel"]=g;var b=JSDialog.Button.create(o);k.buttons.push(b);}JSDialog.Utils.addClass(g,"jsdialog_show");}k.setTitle(m);k.setSize(a,q);JSDialog.instances.push(k);var e=null;if(p.element){e=p.element;}else{if(p.elementId){e=document.getElementById(p.elementId);
}else{if(p.elementClass){e=document.getElementsByClassName(p.elementId)[0];}}}if(e!=null){e.onclick=(function(){var i=k;return function(){i.show();};})();}return k;},showMessageDialog:function(k,h,c,a,l,j,d){if(!h){h="info";}if(!j){if(h=="confirm"){j=JSDialog.Lang.confirm;}else{if(h=="warning"){j=JSDialog.Lang.warning;}else{if(h=="error"){j=JSDialog.Lang.error;}else{j=JSDialog.Lang.information;}}}}if(typeof c!=="function"){c=null;}if(!a){a=450;}if(!l){l=84;}var i="";var e="";if(h!=null){if(h=="confirm"||h=="warning"||h=="info"||h=="error"){i="jsdialog_message_icon jsdialog_message_icon_"+h;}else{if(h!="none"){i="jsdialog_message_icon";e="background-image: url("+h+")";}}}var b=JSDialog.Config.templateMessageDlgContents;b=b.replace("%TEXT%",JSDialog.Utils.escapeHtml(k));b=b.replace("%CLASS%",i);b=b.replace("%STYLE%",e);b=b.replace(new RegExp("\n","g"),"<br>");var g=(function(){var m=c;return function(n){if(m!=null){m(n);}n.destroy();};})();var f=JSDialog.create({title:j,onHide:g,width:a,height:l,contents:b,buttons:[{type:"ok",title:d}]});f.show();},showConfirmDialog:function(h,e,q,o,k,j,s){if(!s){s=JSDialog.Lang.confirmation;}if(!q){q="confirm";}if(!k){k=450;}if(!j){j=84;}var a="";var f="";if(q!=null){if(q=="confirm"||q=="warning"||q=="info"||q=="error"){a="jsdialog_message_icon jsdialog_message_icon_"+q;}else{if(q!="none"){a="jsdialog_message_icon";f="background-image: url("+q+")";}}}var p=JSDialog.Config.templateMessageDlgContents;p=p.replace("%TEXT%",JSDialog.Utils.escapeHtml(h));p=p.replace("%CLASS%",a);p=p.replace("%STYLE%",f);p=p.replace(new RegExp("\n","g"),"<br>");var n=[];if(!o){o="ok|cancel";}o=o.split("|");for(var m=0;m<o.length;m++){var b=o[m];var c="";var d=b.split(":",2);if(d.length==2){b=d[0];c=d[1];}else{if(b=="ok"){c=JSDialog.Lang.ok;}else{if(b=="yes"){c=JSDialog.Lang.yes;}else{if(b=="confirm"){c=JSDialog.Lang.confirm;}else{if(b=="accept"){c=JSDialog.Lang.accept;}else{if(b=="no"){c=JSDialog.Lang.no;}else{if(b=="decline"){c=JSDialog.Lang.decline;}else{if(b=="cancel"){c=JSDialog.Lang.cancel;}else{if(b=="abort"){c=JSDialog.Lang.abort;}}}}}}}}}var l="custom";if(b=="yes"||b=="ok"||b=="confirm"||b=="accept"){l="ok";}else{l="custom";}var g={type:l,title:c,func:(function(){var t="yes";if(b=="no"||b=="decline"){t="no";}else{if(b=="cancel"||b=="abort"){t="cancel";}}var i=e;return function(u){u.hide();i(t);u.destroy();};})()};n.push(g);}var r=JSDialog.create({title:s,width:k,height:j,contents:p,buttons:n});r.show();}};JSDialog.Lang={ok:"OK",yes:"Yes",confirm:"Confirm",accept:"Accept",no:"No",decline:"Decline",cancel:"Cancel",abort:"Abort",information:"Information",warning:"Warning",error:"Error",confirmation:"Confirmation"};JSDialog.Config={skin:"default",zIndexStart:11010,templateDialog:'<div class="jsdialog_dlg">'+'<div class="jsdialog_title">'+'<div class="jsdialog_title_text"></div>'+'<div class="jsdialog_x">Ã—</div>'+"</div>"+'<div class="jsdialog_content_wrap">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="jsdialog_buttons"></div>'+"</div>",templateButton:"<a></a>",classButton:"jsdialog_btn",classButtonOk:"jsdialog_btn_ok",classButtonCancel:"jsdialog_btn_cancel",templateBg:'<div class="jsdialog_bg"></div>',templateMessageDlgContents:'<div class="jsdialog_message_contents %CLASS%" style="%STYLE%">'+'<div class="jsdialog_message_contents_inner">'+"<div>%TEXT%</div>"+"</div>"+"</div>",useBg:true,css:null,useCss:true,contentBorders:[45,10,10,10,60],loadSkin:function(){if(JSDialog.Utils.skinLoaded||this.skin==null){return;}if(this.skin=="android"){this.contentBorders=[57,10,10,10,70];}else{if(this.skin=="flat"){this.contentBorders=[55,10,10,10,70];}else{if(this.skin=="gnome"){this.contentBorders=[43,10,10,10,60];}else{if(this.skin=="ios"){this.contentBorders=[75,25,10,25,70];}else{if(this.skin=="win10"){this.contentBorders=[55,10,20,10,60];}else{this.contentBorders=[45,10,10,10,60];}}}}}if(this.css){JSDialog.Utils.loadedCssTag=JSDialog.Utils.addCSS(this.css);}else{if(!(this.useCss&&this.useCss===false)){JSDialog.Utils.loadedCssTag=JSDialog.Utils.addCSS(JSDialog.Utils.getBaseUrl()+this.skin+"/jsdialog.css");}}for(var a=0;a<JSDialog.instances.length;a++){var b=JSDialog.instances[a];b.setSize(b.getWidth(),b.getHeight());}JSDialog.Utils.skinLoaded=true;},unloadSkin:function(){if(JSDialog.Utils.skinLoaded&&JSDialog.Utils.loadedCssTag!=null){JSDialog.Utils.loadedCssTag.parentNode.removeChild(JSDialog.Utils.loadedCssTag);JSDialog.Utils.loadedCssTag=null;JSDialog.Utils.skinLoaded=false;}}};JSDialog.Button={create:function(b){if(!b.type){b.type="custom";}if(!b.name){b.name=null;}if(b.type=="ok"){b.name="ok";}else{if(b.type=="cancel"){b.name="cancel";}}var a={dlg:null,elButton:null,type:b.type,name:b.name,setTitle:function(e){var d=this.elButton;while(d.firstChild!=null){d=d.firstChild;}d.textContent=e;},setEnabled:function(d){if(d){JSDialog.Utils.removeClass(this.elButton,"jsdialog_disabled");}else{JSDialog.Utils.addClass(this.elButton,"jsdialog_disabled");}if(this.type=="cancel"){this.dlg.getCloseButton().setEnabled(d);
}}};a.dlg=b.dlg;a.elButton=JSDialog.Utils.createElementFromHtml(JSDialog.Config.templateButton);JSDialog.Utils.addClass(a.elButton,JSDialog.Config.classButton);if(b.name){JSDialog.Utils.addClass(a.elButton,"jsdialog_btn_name_"+b.name);}if(b.type=="ok"){JSDialog.Utils.addClass(a.elButton,JSDialog.Config.classButtonOk);}else{if(b.type=="cancel"){JSDialog.Utils.addClass(a.elButton,JSDialog.Config.classButtonCancel);}}var c="";if(b.type=="ok"){c="OK";}else{if(b.type=="cancel"){c="Cancel";}}if(b.title){c=b.title;}a.setTitle(c);a.setEnabled(typeof b.enabled==="undefined"||b.enabled);b.elButtonsPanel.appendChild(a.elButton);a.elButton.onclick=(function(){var e=b.type=="ok"||b.type=="cancel";var f=b.dlg;var d;if(b.type=="ok"){d=f.onOk||b.func;}else{if(b.type=="cancel"){d=f.onCancel||b.func;}else{d=b.func;}}d=d||(function(){return true;});return function(){var g=d(f);if(e&&g){f.hide();}};})();return a;}};JSDialog.Utils={skinLoaded:false,loadedCssTag:null,escapeHtml:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},getNextZIndex:function(){var c=JSDialog.Config.zIndexStart-1;for(var b=0;b<JSDialog.instances.length;b++){var a=JSDialog.instances[b];if(a.visible&&a.getZIndex()>c){c=a.getZIndex();}}return c+1;},addCSS:function(b){var a=document.getElementsByTagName("link");var e=false;for(var c=0;c<a.length;c++){if(a[c].href.indexOf(b)!=-1){e=true;}}if(!e){var d=document.createElement("link");d.href=b;d.type="text/css";d.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(d);return d;}},getBaseUrl:function(){var e=/(^|.*[\\\/])jsdialog(\.min)?\.js(?:\?.*|;.*)?$/i;var d=null;var a=document.getElementsByTagName("script");for(var c=0;c<a.length;c++){var b=a[c].src.match(e);if(b){d=b[1];break;}}if(d!=null){if(d.indexOf(":/")==-1&&d.slice(0,2)!="//"){if(d.indexOf("/")===0){d=location.href.match(/^.*?:\/\/[^\/]*/)[0]+d;}else{d=location.href.match(/^[^\?]*\/(?:)/)[0]+d;}}}return d;},addClass:function(b,a){if(JSDialog.Utils.hasClass(b,a)){return;}b.className=b.className.length==0?a:b.className+" "+a;},removeClass:function(c,a){var b=JSDialog.Utils.getClasses(c);while(b.indexOf(a)>-1){b.splice(b.indexOf(a),1);}var d=b.join(" ").trim();if(d.length>0){c.className=d;}else{if(c.hasAttribute("class")){c.removeAttribute("class");}}},getClasses:function(a){if(typeof(a.className)==="undefined"||a.className==null){return[];}return a.className.split(/\s+/);},hasClass:function(d,a){var c=JSDialog.Utils.getClasses(d);for(var b=0;b<c.length;b++){if(c[b].toLowerCase()==a.toLowerCase()){return true;}}return false;},getStyles:function(c){if(typeof(c.getAttribute("style"))==="undefined"||c.getAttribute("style")==null||c.getAttribute("style").trim().length==0){return{};}var e={};var d=c.getAttribute("style").split(/;/);for(var b=0;b<d.length;b++){var f=d[b].trim();var a=f.indexOf(":");if(a>-1){e[f.substr(0,a).trim()]=f.substr(a+1);}else{e[f]="";}}return e;},getStyle:function(c,b,f){var d=JSDialog.Utils.getStyles(c);for(var a in d){var e=d[a].trim();if(a==b){if(!(f&&f===true)){if(e.length>=2&&e.substring(e.length-2)=="px"){e=e.substring(0,e.length-2);}}if(/^\+?(0|[1-9]\d*)$/.test(e)){e=parseInt(e);}return e;}}return null;},setStyle:function(c,b,a){var d=JSDialog.Utils.getStyles(c);d[b]=a;JSDialog.Utils.setStyles(c,d);},setStyles:function(b,d){var c=[];for(var a in d){c.push(a+":"+d[a]);}if(c.length>0){b.setAttribute("style",c.join(";"));}else{if(b.hasAttribute("style")){b.removeAttribute("style");}}},createElementFromHtml:function(a){var b=document.createElement("div");b.innerHTML=a;return b.childNodes[0];}};window.demoLoaded();